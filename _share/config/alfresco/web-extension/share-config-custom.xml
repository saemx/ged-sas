<alfresco-config>

	<!-- Global config section -->
	<config replace="true">
		<flags>
			<!-- Developer debugging setting - DEBUG mode for client scripts in the 
				browser -->
			<client-debug>true</client-debug>

			<!-- LOGGING can be toggled at runtime when in DEBUG mode (Ctrl, Ctrl, 
				Shift, Shift). This flag automatically activates logging on page load. -->
			<client-debug-autologging>false</client-debug-autologging>
		</flags>
	</config>

	<config evaluator="string-compare" condition="WebFramework">
		<web-framework>
			<!-- SpringSurf Autowire Runtime Settings -->
			<!-- Developers can set mode to 'development' to disable; SpringSurf caches, 
				FreeMarker template caching and Rhino JavaScript compilation. -->
			<autowire>
				<!-- Pick the mode: "production" or "development" -->
				<mode>production</mode>
			</autowire>

			<!-- Allows extension modules with <auto-deploy> set to true to be automatically 
				deployed -->
			<module-deployment>
				<mode>manual</mode>
				<enable-auto-deploy-modules>true
				</enable-auto-deploy-modules>
			</module-deployment>
		</web-framework>
	</config>

	<!-- Repository Library config section -->
	<config evaluator="string-compare" condition="RepositoryLibrary"
		replace="true">
		<!-- Whether the link to the Repository Library appears in the header component 
			or not. -->
		<visible>true</visible>
	</config>

	<config evaluator="string-compare" condition="Remote">
		<remote>
			<endpoint>
				<id>alfresco-noauth</id>
				<name>Alfresco - unauthenticated access</name>
				<description>Access to Alfresco Repository WebScripts that do not
					require
					authentication
				</description>
				<connector-id>alfresco</connector-id>
				<endpoint-url>http://localhost:8080/alfresco/s</endpoint-url>
				<identity>none</identity>
			</endpoint>

			<endpoint>
				<id>alfresco</id>
				<name>Alfresco - user access</name>
				<description>Access to Alfresco Repository WebScripts that require
					user
					authentication
				</description>
				<connector-id>alfresco</connector-id>
				<endpoint-url>http://localhost:8080/alfresco/s</endpoint-url>
				<identity>user</identity>
			</endpoint>

			<endpoint>
				<id>alfresco-feed</id>
				<name>Alfresco Feed</name>
				<description>Alfresco Feed - supports basic HTTP authentication via
					the
					EndPointProxyServlet
				</description>
				<connector-id>http</connector-id>
				<endpoint-url>http://localhost:8080/alfresco/s</endpoint-url>
				<basic-auth>true</basic-auth>
				<identity>user</identity>
			</endpoint>

			<endpoint>
				<id>activiti-admin</id>
				<name>Activiti Admin UI - user access</name>
				<description>Access to Activiti Admin UI, that requires user
					authentication
				</description>
				<connector-id>activiti-admin-connector</connector-id>
				<endpoint-url>http://localhost:8080/alfresco/activiti-admin
				</endpoint-url>
				<identity>user</identity>
			</endpoint>
		</remote>
	</config>

	<!-- Document Library Actions config section -->
	<config evaluator="string-compare" condition="DocLibActions"
		replace="true">

		<!-- Action definitions -->
		<actions>
			<!-- Download document -->
			<action id="document-download" type="link"
				label="actions.document.download">
				<param name="href">{downloadUrl}</param>
				<evaluator>evaluator.doclib.action.downloadBrowser</evaluator>
			</action>

			<!-- View document in browser -->
			<action id="document-view-content" type="link"
				label="actions.document.view">
				<param name="href">{viewUrl}</param>
			</action>

			<!-- View document details -->
			<action id="document-view-details" type="pagelink"
				label="actions.document.view-details">
				<param name="page">document-details?nodeRef={node.nodeRef}</param>
			</action>

			<!-- View folder details -->
			<action id="folder-view-details" type="pagelink"
				label="actions.folder.view-details">
				<param name="page">folder-details?nodeRef={node.nodeRef}</param>
			</action>

			<!-- Edit properties pop-up -->
			<action id="document-edit-properties" type="javascript"
				label="actions.document.edit-metadata">
				<param name="function">onActionDetails</param>
				<permissions>
					<permission allow="true">Write</permission>
				</permissions>
				<evaluator negate="true">evaluator.doclib.action.isLocked
				</evaluator>
			</action>

			<!-- Edit properties page -->
			<action id="document-edit-metadata" type="pagelink"
				label="actions.document.edit-metadata">
				<param name="page">edit-metadata?nodeRef={node.nodeRef}</param>
				<permissions>
					<permission allow="true">Write</permission>
				</permissions>
				<evaluator negate="true">evaluator.doclib.action.isLocked
				</evaluator>
			</action>

			<!-- Approve simple workflow -->
			<action id="document-approve" type="javascript"
				label="{jsNode.properties.app_approveStep}">
				<param name="function">onActionSimpleRepoAction</param>
				<!-- Additional parameters for onRepoAction function -->
				<param name="action">accept-simpleworkflow</param>
				<param name="successMessage">message.simple-workflow.approved</param>
				<param name="failureMessage">message.simple-workflow.failure</param>
				<!-- aspect check, property != null check, action name = property value -->
				<evaluator>evaluator.doclib.action.simpleApprove</evaluator>
			</action>

			<!-- Reject simple workflow -->
			<action id="document-reject" type="javascript"
				label="{jsNode.properties.app_rejectStep}">
				<param name="function">onActionSimpleRepoAction</param>
				<!-- Additional parameters for onRepoAction function -->
				<param name="action">reject-simpleworkflow</param>
				<param name="successMessage">message.simple-workflow.rejected</param>
				<param name="failureMessage">message.simple-workflow.failure</param>
				<!-- aspect check, property != null check, action name = property value -->
				<evaluator>evaluator.doclib.action.simpleReject</evaluator>
			</action>

			<!-- Increment Counter -->
			<action id="document-increment-counter" type="javascript"
				label="actions.document.increment-counter">
				<param name="function">onActionSimpleRepoAction</param>
				<!-- Additional parameters for onRepoAction function -->
				<param name="action">counter</param>
				<param name="successMessage">message.increment-counter.success</param>
				<param name="failureMessage">message.increment-counter.failure</param>
			</action>

			<!-- Extract Metadata -->
			<action id="document-extract-metadata" type="javascript"
				label="actions.document.extract-metadata">
				<param name="function">onActionSimpleRepoAction</param>
				<!-- Additional parameters for onRepoAction function -->
				<param name="action">extract-metadata</param>
				<param name="successMessage">message.extract-metadata.success</param>
				<param name="failureMessage">message.extract-metadata.failure</param>
			</action>

			<!-- Transform -->
			<action id="document-transform" type="javascript"
				label="actions.document.transform">
				<param name="function">onActionFormDialog</param>
				<!-- Additional parameters for onFormDialog function -->
				<param name="itemKind">action</param>
				<param name="itemId">transform</param>
				<param name="mode">create</param>
				<param name="destination">{node.nodeRef}</param>
				<param name="successMessage">message.transform.success</param>
				<param name="failureMessage">message.transform.failure</param>
			</action>

			<!-- Transform Image -->
			<action id="document-transform-image" type="javascript"
				label="actions.document.transform-image">
				<param name="function">onActionFormDialog</param>
				<!-- Additional parameters for onFormDialog function -->
				<param name="itemKind">action</param>
				<param name="itemId">transform-image</param>
				<param name="mode">create</param>
				<param name="destination">{node.nodeRef}</param>
				<param name="successMessage">message.transform-image.success</param>
				<param name="failureMessage">message.transform-image.failure</param>
			</action>

			<!-- Execute Script -->
			<action id="document-execute-script" type="javascript"
				label="actions.document.execute-script">
				<param name="function">onActionFormDialog</param>
				<!-- Additional parameters for onFormDialog function -->
				<param name="itemKind">action</param>
				<param name="itemId">script</param>
				<param name="mode">create</param>
				<param name="destination">{node.nodeRef}</param>
				<param name="successMessage">message.execute-script.success</param>
				<param name="failureMessage">message.execute-script.failure</param>
			</action>

			<!-- Locate with path view -->
			<action id="document-locate" type="javascript" label="actions.document.locate">
				<param name="function">onActionLocate</param>
				<evaluator>evaluator.doclib.action.locateAction</evaluator>
			</action>

			<!-- Upload new version -->
			<action id="document-upload-new-version" type="javascript"
				label="actions.document.upload-new-version">
				<param name="function">onActionUploadNewVersion</param>
				<permissions>
					<permission allow="true">Write</permission>
				</permissions>
				<evaluator>evaluator.doclib.action.upload</evaluator>
				<evaluator>evaluator.doclib.action.editableByCurrentUser</evaluator>
				<evaluator negate="true">evaluator.doclib.metadata.isLocked
				</evaluator>
			</action>

			<!-- Inline edit -->
			<action id="document-inline-edit" type="pagelink"
				label="actions.document.inline-edit">
				<param name="page">inline-edit?nodeRef={node.nodeRef}</param>
				<permissions>
					<permission allow="true">Write</permission>
				</permissions>
				<!-- aspect check (app:inlineeditable), mimetype check (text/plain, text/html, 
					text/xml) -->
				<evaluator>evaluator.doclib.action.inlineEdit</evaluator>
				<evaluator>evaluator.doclib.action.editableByCurrentUser</evaluator>
				<evaluator negate="true">evaluator.doclib.action.isLocked
				</evaluator>
			</action>

			<!-- Edit online -->
			<action id="document-edit-online" type="javascript"
				label="actions.document.edit-online">
				<param name="function">onActionEditOnline</param>
				<permissions>
					<permission allow="true">Write</permission>
				</permissions>
				<!-- vti module check, mimetype check, userAgent check -->
				<evaluator>evaluator.doclib.action.onlineEdit</evaluator>
				<evaluator>evaluator.doclib.action.editableByCurrentUser</evaluator>
				<evaluator negate="true">evaluator.doclib.action.isLocked
				</evaluator>
			</action>

			<!-- Edit offline -->
			<action id="document-edit-offline" type="javascript"
				label="actions.document.edit-offline">
				<param name="function">onActionEditOffline</param>
				<permissions>
					<permission allow="true">Write</permission>
				</permissions>
				<evaluator>evaluator.doclib.action.offlineEdit</evaluator>
				<evaluator negate="true">evaluator.doclib.action.notEditable
				</evaluator>
			</action>

			<!-- Copy to -->
			<action id="document-copy-to" type="javascript" label="actions.document.copy-to">
				<param name="function">onActionCopyTo</param>
				<evaluator negate="true">evaluator.doclib.action.isLocked
				</evaluator>
			</action>

			<!-- Move to -->
			<action id="document-move-to" type="javascript" label="actions.document.move-to">
				<param name="function">onActionMoveTo</param>
				<permissions>
					<permission allow="true">Delete</permission>
				</permissions>
				<evaluator negate="true">evaluator.doclib.action.isLocked
				</evaluator>
			</action>

			<!-- Delete -->
			<action id="document-delete" type="javascript" label="actions.document.delete">
				<param name="function">onActionDelete</param>
				<permissions>
					<permission allow="true">Delete</permission>
				</permissions>
				<evaluator negate="true">evaluator.doclib.action.isLocked
				</evaluator>
			</action>

			<!-- Assign workflow -->
			<action id="document-assign-workflow" type="javascript"
				label="actions.document.assign-workflow">
				<param name="function">onActionAssignWorkflow</param>
				<evaluator>eu.akka.saem.share.evaluator.IsWorkflowLaunchable
				</evaluator>
			</action>
			
			<!-- <action id="bordereauViewer" type="javascript" -->
				<!-- label="actions.bordereau.viewer"> -->
				<!-- <evaluator>eu.akka.saem.share.evaluator.IsUserReader</evaluator> -->
			<!-- </action> -->

			<!-- Manage permissions (site roles) -->
			<action id="document-manage-site-permissions" type="javascript"
				icon="document-manage-permissions" label="actions.document.manage-permissions">
				<param name="function">onActionManagePermissions</param>
				<permissions>
					<permission allow="true">ChangePermissions</permission>
				</permissions>
				<evaluator>evaluator.doclib.action.siteBased</evaluator>
			</action>

			<!-- Manage permissions (repository roles) -->
			<action id="document-manage-repo-permissions" type="pagelink"
				icon="document-manage-permissions" label="actions.document.manage-permissions">
				<param name="page">manage-permissions?nodeRef={node.nodeRef}</param>
				<permissions>
					<permission allow="true">ChangePermissions</permission>
				</permissions>
				<evaluator negate="true">evaluator.doclib.action.siteBased
				</evaluator>
			</action>

			<!-- Manage aspects -->
			<action id="document-manage-aspects" type="javascript"
				label="actions.document.manage-aspects">
				<param name="function">onActionManageAspects</param>
				<permissions>
					<permission allow="true">Write</permission>
				</permissions>
				<evaluator negate="true">evaluator.doclib.action.isLocked
				</evaluator>
			</action>

			<!-- Change type -->
			<action id="document-change-type" type="javascript"
				label="actions.document.change-type">
				<param name="function">onActionChangeType</param>
				<permissions>
					<permission allow="true">Write</permission>
				</permissions>
				<evaluator negate="true">evaluator.doclib.action.isLocked
				</evaluator>
			</action>

			<!-- View original (of a Working Copy pair) -->
			<action id="document-view-original" type="pagelink"
				label="actions.document.view-original">
				<param name="page">document-details?nodeRef={workingCopy.sourceNodeRef}
				</param>
				<!-- cm:workingcopy aspect -->
				<evaluator>evaluator.doclib.action.isWorkingCopy</evaluator>
			</action>

			<!-- View working copy (of a Working Copy pair) -->
			<action id="document-view-working-copy" type="pagelink"
				label="actions.document.view-working-copy">
				<param name="page">document-details?nodeRef={workingCopy.workingCopyNodeRef}
				</param>
				<!-- cm:workingcopy aspect -->
				<evaluator>evaluator.doclib.action.hasWorkingCopy</evaluator>
			</action>

			<!-- Cancel editing (cancel checkout) -->
			<action id="document-cancel-editing" type="javascript"
				label="actions.document.cancel-editing">
				<param name="function">onActionCancelEditing</param>
				<permissions>
					<permission allow="true">CancelCheckOut</permission>
				</permissions>
				<evaluator>evaluator.doclib.action.isWorkingCopy</evaluator>
				<evaluator>evaluator.doclib.action.editableByCurrentUser</evaluator>
			</action>

			<!-- Cancel editing (unlock) -->
			<action id="document-cancel-editing-unlock" type="javascript"
				label="actions.document.cancel-editing">
				<param name="function">onActionCancelEditing</param>
				<permissions>
					<permission allow="true">CancelCheckOut</permission>
				</permissions>
				<evaluator>evaluator.doclib.metadata.isLocked</evaluator>
			</action>

			<!-- Manage folder rules -->
			<action id="folder-manage-rules" type="pagelink" label="actions.folder.rules">
				<param name="page">folder-rules?nodeRef={node.nodeRef}</param>
				<permissions>
					<permission allow="true">ChangePermissions</permission>
				</permissions>
			</action>

			<!-- View in Explorer client -->
			<action id="view-in-explorer" type="link"
				label="actions.folder.explorer-view">
				<param name="href">{explorerViewUrl}</param>
				<param name="target">_blank</param>
				<!-- repository-url config set, not in portlet mode -->
				<evaluator>evaluator.doclib.action.viewInExplorer</evaluator>
			</action>

			<!-- Checkout to Google Docs -->
			<action id="document-checkout-to-googledocs" type="javascript"
				label="actions.document.checkout-google">
				<param name="function">onActionCheckoutToGoogleDocs</param>
				<permissions>
					<permission allow="true">Write</permission>
				</permissions>
				<!-- gd:googleEditable -->
				<evaluator>evaluator.doclib.action.googleDocsCheckOut</evaluator>
			</action>

			<!-- Checkin from Google Docs -->
			<action id="document-checkin-from-googledocs" type="javascript"
				label="actions.document.checkin-google">
				<param name="function">onActionCheckinFromGoogleDocs</param>
				<!-- gd:googleResource, cm:workingcopy & cm:workingCopyOwner = currentUser 
					OR cm:checkedOut, cm:lockOwner = currentUser -->
				<evaluator>evaluator.doclib.action.googleDocsCheckIn</evaluator>
				<override>document-checkout-to-googledocs</override>
			</action>

			<!-- View in Google Docs -->
			<action id="document-view-googledoc" type="link"
				icon="document-view-content" label="actions.document.view-google-doc">
				<param name="href">{workingCopy.googleDocUrl}</param>
				<param name="target">_blank</param>
				<!-- gd:googleResource -->
				<evaluator>evaluator.doclib.action.googleDocsView</evaluator>
			</action>

			<!-- View on Google Maps -->
			<action id="document-view-googlemaps" type="pagelink"
				label="actions.document.view-google-map">
				<param name="page">geographic-map?nodeRef={node.nodeRef}</param>
				<!-- aspect cm:geographic -->
				<evaluator>evaluator.doclib.action.googleMaps</evaluator>
			</action>

			<!-- Transferred node: View in source repository -->
			<action id="document-view-in-source-repository" type="link"
				label="actions.document.view-source-repository">
				<!-- calculated from siteId, item.location.repositoryId, replicationUrlMapping 
					from share-config-custom.xml and node.type -->
				<param name="href">{sourceRepositoryUrl}</param>
				<param name="target">_blank</param>
				<!-- aspect trx:transferred, not portlet mode -->
				<evaluator>evaluator.doclib.action.transferred</evaluator>
			</action>

			<!-- Publish document -->
			<action id="document-publish" type="javascript" label="actions.document.publish">
				<param name="function">onActionPublish</param>
				<evaluator negate="true">evaluator.doclib.action.isLocked
				</evaluator>
			</action>

			<!-- Cloud Sync: Create -->
			<action id="document-cloud-sync" type="javascript"
				label="actions.document.cloud-sync">
				<param name="function">onActionCloudSync</param>
				<permissions>
					<permission allow="true">Write</permission>
				</permissions>
				<evaluator>evaluator.doclib.action.isSyncable</evaluator>
			</action>

			<!-- Cloud Sync: Delete -->
			<action id="document-cloud-unsync" type="javascript"
				label="actions.document.cloud-unsync">
				<param name="function">onActionCloudUnsync</param>
				<permissions>
					<permission allow="true">Delete</permission>
				</permissions>
				<evaluator>evaluator.doclib.action.isUnsyncable</evaluator>
				<override>document-cloud-sync</override>
			</action>

			<!-- Cloud Sync: View In Cloud -->
			<action id="document-view-in-cloud" type="link"
				label="actions.document.view-in-cloud">
				<param name="href">{cloudViewUrl}</param>
				<param name="target">_blank</param>
				<evaluator>evaluator.doclib.action.isSyncedFromLocal</evaluator>
			</action>

			<!-- Cloud Sync: Request Sync -->
			<action id="document-request-sync" type="javascript"
				label="actions.document.request-sync">
				<param name="function">onActionCloudSyncRequest</param>
				<evaluator>evaluator.doclib.action.isSyncedFromLocal</evaluator>
			</action>

			<!-- Download folder -->
			<action id="folder-download" type="javascript" label="actions.folder.download"
				icon="document-download">
				<param name="function">onActionFolderDownload</param>
			</action>
			
			<!-- SAEM-105 : action de lancement du workflow d'elim dans asalae -->
			<action id="asalae-elimination" type="javascript"
				label="actions.saem.asalaeElimination" icon="document-assign-workflow">
				<evaluator>eu.akka.saem.share.evaluator.IsEliminationLaunchable</evaluator>
				<param name="function">onActionSimpleRepoAction</param>
				<param name="action">asalae-elimination</param>
				<param name="successMessage">actions.saem.asalaeElimination.success</param>
				<param name="failureMessage">actions.saem.asalaeElimination.failure</param>
			</action>
			
			<!-- SAEM-134 : action de lancement du workflow de versement dans asalae -->
			<action id="asalae-versement" type="javascript"
				label="actions.saem.asalaeVersement" icon="document-assign-workflow">
				<evaluator>eu.akka.saem.share.evaluator.IsWorkflowLaunchable</evaluator>
				<param name="function">onActionAssignWorkflowVersement</param>
			</action>
			
			<!-- SAEM-134 : action de lancement du workflow de restitution dans asalae -->
			<action id="asalae-restitution" type="javascript"
				label="actions.saem.asalaeRestitution" icon="document-assign-workflow">
				<evaluator>eu.akka.saem.share.evaluator.IsRestitutionLaunchable</evaluator>
				<param name="function">onActionAssignWorkflowRestitution</param>
			</action>
			
			<!-- SAEM - 122 modification d'archive-->
			<action id="archive-modify" type="javascript"
				label="actions.archive.modify" icon="archive-modify">
				<param name="function">onRedirectArchiveModify</param>
				<evaluator>eu.akka.saem.share.evaluator.IsArchiveModifiable</evaluator>
			</action>
			
			<!-- SAEM - 122 visualisation bordereau archive -->
			<action id="archive-bordereau-viewer" type="javascript"
				label="actions.archive.bordereau.viewer" icon="archive-bordereau-viewer">
				<param name="function">onRedirectArchiveBordereauViewer</param>
				<evaluator>eu.akka.saem.share.evaluator.IsArchiveBordereauViewable</evaluator>
			</action>
			
			<!-- SAEM - 122 visualisation bordereau document -->
			<action id="document-bordereau-viewer" type="javascript"
				label="actions.document.bordereau.viewer" icon="archive-bordereau-viewer">
				<param name="function">onRedirectDocumentBordereauViewer</param>
				<evaluator>eu.akka.saem.share.evaluator.IsDocumentBordereauViewable</evaluator>
			</action>
			
		</actions>


		<!-- Action Group resolver - decides which action group id to use for a 
			node -->
		<actionGroupResolver>resolver.doclib.actionGroup</actionGroupResolver>

		<!-- Action Group definitions -->
		<actionGroups>
			<actionGroup id="empty" />

			<actionGroup id="document-browse">
				<action index="0" id="document-bordereau-viewer" />
				<action index="100" id="document-download" />
				<action index="110" id="document-view-content" />
				<action index="120" id="document-locate" />
				<action index="130" id="document-edit-properties" />
				<action index="140" id="document-upload-new-version" />
				<action index="150" id="document-view-original" />
				<action index="160" id="document-view-working-copy" />
				<action index="170" id="document-approve" />
				<action index="180" id="document-reject" />
				<action index="190" id="document-inline-edit" />
				<action index="200" id="document-edit-online" />
				<action index="210" id="document-edit-offline" />
				<action index="220" id="document-view-googledoc" />
				<action index="230" id="document-checkout-to-googledocs" />
				<action index="240" id="document-checkin-from-googledocs" />
				<action index="250" id="document-copy-to" />
				<action index="260" id="document-move-to" />
				<action index="270" id="document-delete" />
				<action index="280" id="document-assign-workflow" />
				<action index="290" id="document-cancel-editing" />
				<action index="295" id="document-cancel-editing-unlock" icon="document-cancel-editing" />
				<action index="300" id="document-publish" />
				<action index="310" id="document-view-googlemaps" />
				<action index="320" id="document-view-in-source-repository" />
				<action index="330" id="document-cloud-sync" />
				<action index="340" id="document-cloud-unsync" />
				<action index="350" id="document-view-in-cloud" />
				<action index="360" id="document-request-sync" />
				<action index="370" id="document-manage-site-permissions" />
			</actionGroup>

			<actionGroup id="document-details">
				<action index="0" id="document-bordereau-viewer" />
				<action index="100" id="document-download" />
				<action index="110" id="document-view-content" />
				<action index="120" id="document-edit-metadata" />
				<action index="130" id="document-upload-new-version" />
				<action index="140" id="document-view-original" />
				<action index="150" id="document-view-working-copy" />
				<action index="160" id="document-approve" />
				<action index="170" id="document-reject" />
				<action index="180" id="document-inline-edit" />
				<action index="190" id="document-edit-online" />
				<action index="200" id="document-edit-offline" />
				<action index="210" id="document-view-googledoc" />
				<action index="220" id="document-checkout-to-googledocs" />
				<action index="230" id="document-checkin-from-googledocs" />
				<action index="240" id="document-copy-to" />
				<action index="250" id="document-move-to" />
				<action index="260" id="document-delete" />
				<action index="270" id="document-assign-workflow" />
				<action index="280" id="document-cancel-editing" />
				<action index="285" id="document-cancel-editing-unlock" icon="document-cancel-editing" />
				<action index="290" id="document-manage-site-permissions" />
				<action index="300" id="document-manage-repo-permissions" />
				<action index="310" id="document-manage-aspects" />
				<action index="320" id="document-change-type" />
				<action index="330" id="document-view-in-source-repository" />
				<action index="340" id="document-publish" />
				<action index="350" id="document-view-googlemaps" />
				<action index="360" id="document-cloud-sync" />
				<action index="370" id="document-cloud-unsync" />
				<action index="380" id="document-view-in-cloud" />
				<action index="390" id="document-request-sync" />
			</actionGroup>

			<actionGroup id="folder-browse">
				<action index="0" id="archive-bordereau-viewer" />
				<action index="10" id="archive-modify" />
				<action index="100" id="folder-download" />
				<action index="105" id="folder-view-details" />
				<action index="110" id="document-edit-properties" icon="folder-edit-properties"
					label="actions.folder.edit-metadata" />
				<action index="120" id="document-approve" icon="folder-approve" />
				<action index="130" id="document-reject" icon="folder-reject" />
				<action index="140" id="document-locate" icon="document-locate"
					label="actions.folder.locate" />
				<action index="150" id="document-copy-to" icon="folder-copy-to"
					label="actions.folder.copy-to" />
				<action index="160" id="document-move-to" icon="folder-move-to"
					label="actions.folder.move-to" />
				<action index="170" id="folder-manage-rules" />
				<action index="180" id="document-delete" icon="folder-delete"
					label="actions.folder.delete" />
				<action index="190" id="document-manage-site-permissions"
					icon="folder-manage-permissions" label="actions.folder.manage-permissions" />
				<action index="200" id="document-manage-repo-permissions"
					icon="folder-manage-permissions" label="actions.folder.manage-permissions" />
				<action index="210" id="document-manage-aspects" label="actions.folder.manage-aspects" />
				<action index="220" id="document-view-in-source-repository"
					label="actions.folder.view-source-repository" />
				<action index="360" id="document-cloud-sync" />
				<action index="370" id="document-cloud-unsync" />
				<action index="380" id="document-view-in-cloud" />
				<action index="390" id="document-request-sync" />
				<action index="500" id="asalae-elimination" />
				<action index="600" id="asalae-versement" />
				<action index="700" id="asalae-restitution" />
			</actionGroup>

			<actionGroup id="folder-details">
				<action index="0" id="archive-bordereau-viewer" />
				<action index="10" id="archive-modify" />
				<action index="100" id="document-edit-metadata" icon="folder-edit-metadata"
					label="actions.folder.edit-metadata" />
				<action index="110" id="document-approve" icon="folder-approve" />
				<action index="120" id="document-reject" icon="folder-reject" />
				<action index="130" id="document-copy-to" icon="folder-copy-to"
					label="actions.folder.copy-to" />
				<action index="140" id="document-move-to" icon="folder-move-to"
					label="actions.folder.move-to" />
				<action index="150" id="folder-manage-rules" />
				<action index="160" id="document-delete" icon="folder-delete"
					label="actions.folder.delete" />
				<action index="170" id="document-manage-site-permissions"
					icon="folder-manage-permissions" label="actions.folder.manage-permissions" />
				<action index="180" id="document-manage-repo-permissions"
					icon="folder-manage-permissions" label="actions.folder.manage-permissions" />
				<action index="190" id="document-manage-aspects" label="actions.folder.manage-aspects" />
				<action index="200" id="document-change-type" label="actions.folder.change-type" />
				<action index="210" id="view-in-explorer" />
				<action index="220" id="document-view-in-source-repository"
					label="actions.folder.view-source-repository" />
				<action index="360" id="document-cloud-sync" />
				<action index="370" id="document-cloud-unsync" />
				<action index="380" id="document-view-in-cloud" />
				<action index="390" id="document-request-sync" />
				<action index="500" id="asalae-elimination" />
				<action index="600" id="asalae-versement" />
				<action index="700" id="asalae-restitution" />
			</actionGroup>

			<actionGroup id="document-link-browse">
				<action index="100" id="document-locate" label="actions.link.locate">
					<evaluator />
				</action>
				<action index="110" id="document-delete" label="actions.link.delete" />
			</actionGroup>

			<actionGroup id="document-link-details">
				<action index="100" id="document-delete" label="actions.link.delete" />
			</actionGroup>

			<actionGroup id="folder-link-browse">
				<action index="100" id="folder-view-details" />
				<action index="110" id="document-locate" label="actions.link.locate">
					<evaluator />
				</action>
				<action index="120" id="document-delete" icon="folder-delete"
					label="actions.link.delete" />
			</actionGroup>

			<actionGroup id="folder-link-details">
				<action index="100" id="document-delete" icon="folder-delete"
					label="actions.link.delete" />
			</actionGroup>

		</actionGroups>
	</config>

	<!-- Document Library config section -->
	<config evaluator="string-compare" condition="DocumentLibrary"
		replace="true">
		<file-upload>
			<adobe-flash-enabled>false</adobe-flash-enabled>
		</file-upload>
	</config>

	<config evaluator="aspect" condition="saem:profilable">
		<forms>
			<form>
				<field-visibility>
					<show id="saem:profilName" />
					<show id="saem:serviceVersant" />
				</field-visibility>
				<appearance>
					<field id="saem:profilName" label-id="prop.saem_profilName" />
					<field id="saem:serviceVersant" label-id="prop.saem_serviceVersant" />
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="aspect" condition="saem:profil">
		<forms>
			<form>
				<field-visibility>
					<show id="saem:isprofil" />
				</field-visibility>
				<appearance>
					<field id="saem:isprofil" label-id="prop.saem_isprofil"
						read-only="true" />
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="aspect" condition="saem:archivable">
		<forms>
			<form>
				<field-visibility>
					<show id="saem:isarchive" />
				</field-visibility>
				<appearance>
					<field id="saem:isarchive" label-id="prop.saem_isarchive"
						read-only="true" />
				</appearance>
			</form>
		</forms>
	</config>


	<!-- Document Library config section -->
	<config evaluator="string-compare" condition="DocumentLibrary">
		<!-- Used by the "Manage Aspects" action For custom aspects, remember to 
			also add the relevant i18n string(s) cm_myaspect=My Aspect -->
		<aspects>
			<!-- Aspects that a user can see -->
			<visible>
				<aspect name="saem:profilable" />
			</visible>

			<!-- Aspects that a user can add. Same as "visible" if left empty -->
			<addable>
			</addable>

			<!-- Aspects that a user can remove. Same as "visible" if left empty -->
			<removeable>
			</removeable>
		</aspects>
	</config>

	<config evaluator="string-compare" condition="Workflow" replace="true">
		<!-- A list of workflow definitions that are NOT displayed in Share -->
		<hidden-workflows>
<!-- 			Hide all WCM related workflows -->
			<workflow name="activiti$publishWebContent" />
			<workflow name="activiti$activitiAdhoc" />
			<workflow name="activiti$activitiInvitationModerated" />
			<workflow name="activiti$activitiInvitationNominated" />
			<workflow name="activiti$activitiParallelGroupReview" />
			<workflow name="activiti$activitiParallelReview" />
			<workflow name="activiti$activitiReview" />
			<workflow name="activiti$activitiReviewPooled" />
			<workflow name="activiti$wfElimination" />
		</hidden-workflows>
	</config>

	<!-- SAEM-77 : Workflow de versement : formulaire de creation du wf -->
	<config evaluator="string-compare" condition="activiti$wfVersement"
		replace="true">
		<forms>
			<form>
				<field-visibility>
					<show id="packageItems" />
					<show id="bpm:comment" />
				</field-visibility>
				<appearance>
					<field id="packageItems" label-id="saemwf_items.title"
						mandatory="true">
						<control template="/picker.ftl">
							<control-param name="itemType">saem:archivable</control-param>
							<control-param name="itemFamily">node</control-param>
							<control-param name="multipleSelectMode">false</control-param>
						</control>
					</field>
					<field id="bpm:comment" label-id="workflow.field.comment">
						<control template="/org/alfresco/components/form/controls/textarea.ftl" />
					</field>
				</appearance>
			</form>
		</forms>
	</config>

	<!-- SAEM-77 : Workflow Versement : Validation Service d'Archive -->
	<config evaluator="task-type" condition="saemwf:activitiSAValidation">
		<forms>
			<form id="workflow-details">
				<field-visibility>
					<show id="packageItems" />
					<show id="saemwf:comment" />
					<show id="saemwf:SAValidationApproveRejectOutcome" />
				</field-visibility>
				<appearance>
					<field id="saemwf:comment" label-id="saemwf_SV_commentary.title">
						<control template="/org/alfresco/components/form/controls/info.ftl" />
					</field>
					<field id="packageItems" label-id="saemwf_items.title" />
					<field id="saemwf:SAValidationApproveRejectOutcome" label-id="saemwf_validateRejectOutcome.title" />
				</appearance>
			</form>
			<form>
				<field-visibility>
					<show id="saemwf:comment" />
					<show id="packageItems" />
					<show id="bpm:comment" />
					<show id="saemwf:SAValidationApproveRejectOutcome" />
				</field-visibility>
				<appearance>
					<field id="saemwf:comment" label-id="saemwf_SV_commentary.title">
						<control template="/org/alfresco/components/form/controls/info.ftl" />
					</field>
					<field id="packageItems" label-id="saemwf_items.title" />
					<field id="bpm:comment" label-id="workflow.field.comment" >
						<control template="/org/alfresco/components/form/controls/textarea.ftl" />
					</field>
					
					<field id="saemwf:SAValidationApproveRejectOutcome" label-id="workflow.field.outcome">
						<control
							template="/org/alfresco/components/form/controls/workflow/activiti-transitions.ftl" />
					</field>
				</appearance>
			</form>
		</forms>
	</config>

	<!-- SAEM-77 : Workflow Versement : Confirmation du service versant -->
	<config evaluator="task-type" condition="saemwf:activitiSVConfirmation">
		<forms>
			<form id="workflow-details">
				<field-visibility>
					<show id="saemwf:comment" />
					<show id="packageItems" />
				</field-visibility>
				<appearance>
					<field id="saemwf:comment" label-id="saemwf_SA_commentary.title">
						<control template="/org/alfresco/components/form/controls/info.ftl" />
					</field>
					<field id="packageItems" label-id="saemwf_items.title" />
				</appearance>
			</form>
			<form>
				<field-visibility>
					<show id="saemwf:comment" />
					<show id="packageItems" />
					<show id="transitions" />
				</field-visibility>
				<appearance>
					<field id="saemwf:comment" label-id="saemwf_SA_commentary.title">
						<control template="/org/alfresco/components/form/controls/info.ftl" />
					</field>
					<field id="packageItems" label-id="saemwf_items.title" />
					<field id="transitions" />
				</appearance>
			</form>
		</forms>
	</config>

	<!-- SAEM-77 : Workflow Versement : Correction du service versant -->
	<config evaluator="task-type" condition="saemwf:activitiSVCorrection">
		<forms>
			<form id="workflow-details">
				<field-visibility>
					<show id="saemwf:comment" />
					<show id="packageItems" />
				</field-visibility>
				<appearance>
					<field id="saemwf:comment" label-id="saemwf_SA_commentary.title">
						<control template="/org/alfresco/components/form/controls/info.ftl" />
					</field>
					<field id="packageItems" label-id="saemwf_items_tocorrect.title" />
				</appearance>
			</form>
			<form>
				<field-visibility>
					<show id="saemwf:comment" />
					<show id="packageItems" />
					<show id="bpm:comment" />
					<show id="transitions" />
				</field-visibility>
				<appearance>
					<field id="saemwf:comment" label-id="saemwf_SA_commentary.title">
						<control template="/org/alfresco/components/form/controls/info.ftl" />
					</field>
					<field id="packageItems" label-id="saemwf_items_tocorrect.title" />
					<field id="bpm:comment" label-id="workflow.field.comment" >
						<control template="/org/alfresco/components/form/controls/textarea.ftl" />
					</field>
					<field id="transitions"/>
				</appearance>
			</form>
		</forms>
	</config>

	<!-- SAEM-87 : Workflow d'elimination : formulaire de creation du wf -->
	<config evaluator="string-compare" condition="activiti$wfElimination"
		replace="true">
		<forms>
			<form>
				<field-visibility>
					<show id="packageItems" />
					<show id="bpm:comment" />
				</field-visibility>
				<appearance>
					<field id="packageItems" label-id="saemwf_items.title"
						mandatory="true">
						<control template="/picker.ftl">
							<control-param name="itemType">saem:eliminable</control-param>
							<control-param name="itemFamily">node</control-param>
							<control-param name="multipleSelectMode">false</control-param>
						</control>
					</field>
					<field id="bpm:comment" label-id="workflow.field.comment"
						mandatory="true">
						<control template="/org/alfresco/components/form/controls/textarea.ftl" />
					</field>
				</appearance>
			</form>
		</forms>
	</config>

	<!-- SAEM-87 : Workflow Elim : Validation Service Versant -->
	<config evaluator="task-type" condition="saemwf:activitiSVValidation">
		<forms>
			<form id="workflow-details">
				<field-visibility>
					<show id="packageItems" />
					<show id="saemwf:SVValidationApproveRejectOutcome" />
				</field-visibility>
				<appearance>
					<field id="packageItems" label-id="saemwf_items.title" />
					<field id="saemwf:SVValidationApproveRejectOutcome" label-id="saemwf_validateRejectOutcome.title" />
				</appearance>
			</form>
			<form>
				<field-visibility>
					<show id="packageItems" />
					<show id="bpm:comment" />
					<show id="saemwf:SVValidationApproveRejectOutcome" />
				</field-visibility>
				<appearance>
					<field id="packageItems" label-id="saemwf_items.title" />
					<field id="bpm:comment" label-id="workflow.field.comment" >
						<control template="/org/alfresco/components/form/controls/textarea.ftl" />
					</field>
					
					<field id="saemwf:SVValidationApproveRejectOutcome" label-id="workflow.field.outcome">
						<control
							template="/org/alfresco/components/form/controls/workflow/activiti-transitions.ftl" />
					</field>
				</appearance>
			</form>
		</forms>
	</config>

	<!-- SAEM-105 : action de lancement de workflow d'elim dans asalae -->
	<config evaluator="string-compare" condition="asalae-elimination">
		<forms>
			<form>
				<field-visibility>
					<show id="destination-folder" />
				</field-visibility>
				<appearance>
					<field id="destination-folder" label-id="jqvetfkucfyelfcviyfvlyifcv"
						mandatory="true">
						<control template="/picker.ftl">
<!-- 							<control-param name="itemType">cm:folder</control-param> -->
							<control-param name="itemFamily">node</control-param>
							<control-param name="multipleSelectMode">false</control-param>
						</control>
					</field>
				</appearance>
			</form>
		</forms>
	</config>
	
	<!-- SAEM-135 : Workflow de restitution : formulaire de creation du wf -->
	<config evaluator="string-compare" condition="activiti$wfRestitution"
		replace="true">
		<forms>
			<form>
				<field-visibility>
					<show id="packageItems" />
					<show id="bpm:comment" />
				</field-visibility>
				<appearance>
					<field id="packageItems" label-id="saemwf_items.title" mandatory="true">
						<control template="/picker.ftl">
							<control-param name="itemType">saem:restituable</control-param>
							<control-param name="itemFamily">node</control-param>
							<control-param name="multipleSelectMode">false</control-param>
						</control>
					</field>
					<field id="bpm:comment" label-id="workflow.field.comment" mandatory="true">
						<control template="/org/alfresco/components/form/controls/textarea.ftl" />
					</field>
				</appearance>
			</form>
		</forms>
	</config>

</alfresco-config>